============================ PROJECT SOURCE BUNDLE =============================
Root: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar
Generated: 2025-08-27 15:13:28
Extensions: .jsx, .js, .css
Excluded dirs: .git, build, coverage, dist, node_modules, out
------------------------------ TABLE OF CONTENTS -------------------------------
  1. server.js
  2. src\App.css
  3. src\App.js
  4. src\App.test.js
  5. src\components\calendar.css
  6. src\components\calendar.jsx
  7. src\components\content.css
  8. src\components\content.jsx
  9. src\components\editProject.jsx
 10. src\components\editTask.css
 11. src\components\gantt.css
 12. src\components\gantt.jsx
 13. src\components\header.css
 14. src\components\header.jsx
 15. src\components\newUser.css
 16. src\components\newUser.jsx
 17. src\components\ToDoList.css
 18. src\components\ToDoList.jsx
 19. src\index.css
 20. src\index.js
 21. src\msalConfig.js
 22. src\reportWebVitals.js
 23. src\setupTests.js
================================================================================

================================= 1. server.js =================================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\server.js
Size: 7791 bytes
--------------------------------------------------------------------------------

// server.js
const express = require('express');
const cors = require('cors');
const fs = require('fs').promises;
const path = require('path');

const app = express();
const PORT = 5000;

app.use(cors({ origin: 'http://localhost:3000', credentials: true }));
app.use(express.json({ limit: '1mb' }));

const DATA_PATH = path.join(__dirname, 'src', 'data', 'taskData.json');
const USER_PATH = path.join(__dirname, 'src', 'data', 'user.json');

// ---------------- helpers ----------------
async function ensureDir(p) {
  await fs.mkdir(path.dirname(p), { recursive: true });
}

function arrayFromOwnerKeyed(obj) {
  // { "Owner A": [..], "Owner B": [..] } -> flat array with owner injected
  const out = [];
  for (const [owner, arr] of Object.entries(obj || {})) {
    if (Array.isArray(arr)) out.push(...arr.map(t => ({ ...t, owner })));
  }
  return out;
}

function arrayFromArrayish(obj) {
  // { "0": {...}, "1": {...}, "id": "xxx" } -> [ {...}, {...} ]
  const keys = Object.keys(obj || {}).filter(k => /^\d+$/.test(k)).sort((a,b)=>a-b);
  return keys.map(k => obj[k]);
}

function coerceToArray(data) {
  if (Array.isArray(data)) return data;
  if (data && typeof data === 'object') {
    // prefer owner-keyed; if not, try numeric-keyed
    const ownerFlat = arrayFromOwnerKeyed(data);
    if (ownerFlat.length) return ownerFlat;
    const arrish = arrayFromArrayish(data);
    if (arrish.length) return arrish;
  }
  return [];
}

async function readTasks() {
  try {
    const raw = await fs.readFile(DATA_PATH, 'utf8');
    const data = JSON.parse(raw);
    return coerceToArray(data);
  } catch (e) {
    if (e.code === 'ENOENT') return [];
    throw e;
  }
}

async function writeTasks(tasks) {
  await ensureDir(DATA_PATH);
  const tmp = DATA_PATH + '.tmp';
  await fs.writeFile(tmp, JSON.stringify(tasks, null, 2), 'utf8');
  await fs.rename(tmp, DATA_PATH);
}

function upsertById(existing, changes) {
  const byId = new Map(existing.map(t => [t.id, t]));
  for (const c of changes) {
    if (!c || !c.id) continue;
    const prev = byId.get(c.id) || {};
    byId.set(c.id, { ...prev, ...c });
  }
  return Array.from(byId.values());
}

async function readUsers() {
  try {
    const raw = await fs.readFile(USER_PATH, 'utf8');
    const data = JSON.parse(raw);
    return coerceToArray(data);
  } catch (e) {
    if (e.code === 'ENOENT') return [];
    throw e;
  }
}

async function writeUsers(users) {
  await ensureDir(USER_PATH);
  const tmp = USER_PATH + '.tmp';
  await fs.writeFile(tmp, JSON.stringify(users, null, 2), 'utf8');
  await fs.rename(tmp, USER_PATH);
}

// ---------------- routes ----------------

// GET: always return a flat array; if file was object-ish, heal it back to array
app.get('/api/tasks', async (req, res) => {
  try {
    const tasks = await readTasks();

    // If file on disk wasn‚Äôt a clean array, rewrite it healed.
    // (We detect this by re-reading and comparing shapes lightly.)
    const raw = await fs.readFile(DATA_PATH, 'utf8').catch(() => null);
    if (raw) {
      const parsed = JSON.parse(raw);
      if (!Array.isArray(parsed)) {
        await writeTasks(tasks);
      }
    }

    res.json(tasks);
  } catch (err) {
    console.error('GET /api/tasks failed:', err);
    res.status(500).json({ error: 'Failed to read tasks' });
  }
});

// POST: replace entire dataset
// To prevent accidental wipes, require either a non-empty array OR ?allowEmpty=1
app.post('/api/tasks', async (req, res) => {
  try {
    let incoming = coerceToArray(req.body);
    const allowEmpty = String(req.query.allowEmpty || '0') === '1';

    if (!incoming.length && !allowEmpty) {
      return res.status(400).json({
        error: 'Refusing to overwrite with empty list. Pass ?allowEmpty=1 to force.',
      });
    }

    await writeTasks(incoming);
    res.json({ ok: true, count: incoming.length });
  } catch (err) {
    console.error('POST /api/tasks failed:', err);
    res.status(500).json({ error: 'Failed to write tasks' });
  }
});

// PUT: bulk upsert by projectId (body = array OR array-ish of tasks)
app.put('/api/tasks/:projectId', async (req, res) => {
  try {
    const projectId = req.params.projectId;
    let changes = coerceToArray(req.body);

    // Filter only tasks that belong to this projectId if provided
    if (projectId) {
      changes = changes.filter(t => t && t.projectId === projectId);
    }

    if (!changes.length) {
      return res.json({ ok: true, updated: 0, total: (await readTasks()).length });
    }

    const existing = await readTasks();
    const merged = upsertById(existing, changes);
    await writeTasks(merged);

    res.json({ ok: true, updated: changes.length, total: merged.length });
  } catch (err) {
    console.error('PUT /api/tasks/:projectId failed:', err);
    res.status(500).json({ error: 'Failed to upsert tasks' });
  }
});


app.get('/users', async (req, res) => {
  try {
    const raw = await fs.readFile(USER_PATH, 'utf8').catch(() => null);
    const data = raw ? JSON.parse(raw) : { viewer: [], owner: [], admin: [] };
    res.json({
      viewer: Array.isArray(data.viewer) ? data.viewer : [],
      owner:  Array.isArray(data.owner)  ? data.owner  : [],
      admin:  Array.isArray(data.admin)  ? data.admin  : [],
    });
  } catch (err) {
    console.error('GET /users failed:', err);
    res.status(500).json({ error: 'Failed to read users' });
  }
});

app.post('/users', async (req, res) => {
  try {
    const body = req.body; // ‚Üê { viewer:[], owner:[...], admin:[...] }
    const cleaned = {
      viewer: Array.isArray(body.viewer) ? body.viewer : [],
      owner:  Array.isArray(body.owner)  ? body.owner  : [],
      admin:  Array.isArray(body.admin)  ? body.admin  : [],
    };
    await fs.writeFile(USER_PATH, JSON.stringify(cleaned, null, 2), 'utf8');
    res.json(cleaned);
  } catch (err) {
    console.error('POST /users failed:', err);
    res.status(500).json({ error: 'Failed to write users' });
  }
});

// DELETE: remove a single task by id
app.delete('/api/tasks/:taskId', async (req, res) => {
  try {
    const taskId = req.params.taskId;
    if (!taskId) return res.status(400).json({ error: 'Missing taskId' });

    const existing = await readTasks();
    const filtered = existing.filter(t => t.id !== taskId);

    if (filtered.length === existing.length) {
      return res.status(404).json({ error: 'Task not found' });
    }

    await writeTasks(filtered);
    res.json({ ok: true, deleted: taskId, total: filtered.length });
  } catch (err) {
    console.error('DELETE /api/tasks/:taskId failed:', err);
    res.status(500).json({ error: 'Failed to delete task' });
  }
});

// DELETE: remove all tasks in a project
app.delete('/api/projects/:projectId', async (req, res) => {
  try {
    const projectId = req.params.projectId;
    if (!projectId) return res.status(400).json({ error: 'Missing projectId' });

    const existing = await readTasks();
    const remaining = existing.filter(t => t.projectId !== projectId);
    const removedCount = existing.length - remaining.length;

    if (!removedCount) {
      return res.status(404).json({ error: 'Project not found or no tasks' });
    }

    await writeTasks(remaining);
    res.json({ ok: true, deletedProjectId: projectId, removed: removedCount, total: remaining.length });
  } catch (err) {
    console.error('DELETE /api/projects/:projectId failed:', err);
    res.status(500).json({ error: 'Failed to delete project' });
  }
});


app.listen(PORT, () => {
  console.log(`Server running on http://localhost:${PORT}`);
});

--------------------------------------------------------------------------------

================================ 2. src\App.css ================================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\App.css
Size: 398 bytes
--------------------------------------------------------------------------------

.App {
  text-align: center;
  flex-direction: column;
  height: 100vh;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

--------------------------------------------------------------------------------

================================ 3. src\App.js =================================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\App.js
Size: 645 bytes
--------------------------------------------------------------------------------

import './App.css';
import Header from './components/header';
import Content from './components/content';
import EditProject from './components/editProject';
import NewUser from './components/newUser';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <Router>
      <div className="App">
        <Header />
        <Routes>
          <Route path="/" element={<Content />} />
          <Route path="/edit-project/:projectId" element={<EditProject />} />
          <Route path="/new-users" element={<NewUser />} />
        </Routes>
      </div>
    </Router>
  );
}

export default App;

--------------------------------------------------------------------------------

============================== 4. src\App.test.js ==============================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\App.test.js
Size: 246 bytes
--------------------------------------------------------------------------------

import { render, screen } from '@testing-library/react';
import App from './App';

test('renders learn react link', () => {
  render(<App />);
  const linkElement = screen.getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
});

--------------------------------------------------------------------------------

======================== 5. src\components\calendar.css ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\calendar.css
Size: 1987 bytes
--------------------------------------------------------------------------------

.cal-wrap {
  padding: 16px;
  background: #fff;
  font-family: Arial, sans-serif;
}

/* top bar */
.cal-topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  gap: 12px;
  flex-wrap: wrap;
}

.cal-controls {
  display: flex;
  gap: 8px;
  align-items: center;
}

.cal-btn {
  padding: 6px 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #f8f8f8;
  cursor: pointer;
}

.cal-select {
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #ddd;
}

.month-chip {
  font-size: 14px;
  font-weight: 700;
  padding: 4px 10px;
  border: 1px solid #eee;
  border-radius: 999px;
  background: #fafafa;
}

/* weekday header row */
.cal-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  margin-bottom: 4px;
  font-weight: 600;
  color: #555;
}

.cal-weekday {
  text-align: center;
}

/* grid */
.cal-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  width: 100%;
}
/* cells */
.cal-cell {
  border: 1px solid #eee;
  border-radius: 10px;
  padding: 8px;
  width: 185px;
  background: #fff; /* default */
}

.cal-cell.out {
  background: #fafafa;
}

.cal-cell.today {
  background: #fffbcc;
  box-shadow: 0 0 0 2px #facc15 inset;
}

.date-badge {
  font-size: 12px;
  font-weight: 700;
  color: #333;
  margin-bottom: 6px;
}

.cal-cell.today .date-badge {
  color: #92400e;
}

.date-month {
  font-weight: 400;
  color: #888;
  margin-left: 4px;
}

/* scrolling container for pills */
.cell-scroll {
  overflow-y: auto;
  max-height: 85px;
  padding-right: 2px;
}

/* task pill */
.task-pill {
  display: block;
  font-size: 12px;
  padding: 3px 6px;
  border-radius: 6px;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  border: 1px solid #ddd; /* color overridden inline */
  color: #222;
}

--------------------------------------------------------------------------------

======================== 6. src\components\calendar.jsx ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\calendar.jsx
Size: 9257 bytes
--------------------------------------------------------------------------------

import React, { useEffect, useMemo, useState } from "react";
import "./calendar.css";

/**
 * CalendarMonth
 * - Fetches tasks from http://localhost:5000/api/tasks
 * - Role-aware visibility:
 *    - owner => all tasks
 *    - viewer => only tasks assigned to localStorage.name
 * - Optional filter by project (built from visible tasks)
 * - Renders a 6x7 monthly grid; tasks appear on every day between started..due (inclusive)
 */
export default function CalendarMonth() {
  const [tasks, setTasks] = useState([]);
  const [projectFilter, setProjectFilter] = useState("All Projects");

  // month anchor (first day of month)
  const [currentMonth, setCurrentMonth] = useState(() => {
    const d = new Date();
    return new Date(d.getFullYear(), d.getMonth(), 1);
  });

  // role / identity
  const role = (localStorage.getItem("role") || "").trim().toLowerCase(); // "owner" | "viewer"
  const me = (localStorage.getItem("name") || "").trim().toLowerCase();

  // ---- fetch tasks ----
  useEffect(() => {
    fetch("http://localhost:5000/api/tasks")
      .then((res) => res.json())
      .then((data) => {
        // tolerate either array or owner-keyed object
        let flat = [];
        if (Array.isArray(data)) {
          flat = data;
        } else if (data && typeof data === "object") {
          for (const [owner, arr] of Object.entries(data)) {
            if (Array.isArray(arr)) flat.push(...arr.map((t) => ({ ...t, owner })));
          }
        }
        setTasks(flat);
      })
      .catch((err) => console.error("CalendarMonth: failed to load tasks:", err));
  }, []);

  // ---- helpers ----
  const statusColors = {
    "IN PROGRESS": "#3b82f6",
    PENDING: "#10b981",
    "READY FOR DEV": "#a855f7",
    REVIEW: "#facc15",
    "ISSUES FOUND": "#ef4444",
    COMPLETED: "#178800ff",
  };

  const parseDate = (d) => {
    if (!d || d === "-") return null;
    const s = String(d).toLowerCase();
    const now = new Date();
    if (s === "today") return new Date(now.getFullYear(), now.getMonth(), now.getDate());
    if (s === "tomorrow") {
      const t = new Date(now);
      t.setDate(t.getDate() + 1);
      return new Date(t.getFullYear(), t.getMonth(), t.getDate());
    }
    const parsed = new Date(d);
    if (isNaN(parsed.getTime())) return null;
    return new Date(parsed.getFullYear(), parsed.getMonth(), parsed.getDate()); // strip time
  };

  const startOfMonth = useMemo(
    () => new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1),
    [currentMonth]
  );
  const endOfMonth = useMemo(
    () => new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0),
    [currentMonth]
  );

  // 6x7 grid (Sun..Sat); compute first visible Sunday
  const gridStart = useMemo(() => {
    const s = new Date(startOfMonth);
    const day = s.getDay(); // 0..6
    s.setDate(s.getDate() - day);
    return s;
  }, [startOfMonth]);

  const gridDays = useMemo(() => {
    const days = [];
    for (let i = 0; i < 42; i++) {
      const d = new Date(gridStart);
      d.setDate(gridStart.getDate() + i);
      days.push(d);
    }
    return days;
  }, [gridStart]);

  const visibleMonthIndex = currentMonth.getMonth();
  const visibleYear = currentMonth.getFullYear();

  // ------------- role-based visibility -------------
  const visibleTasks = useMemo(() => {
    if (!tasks.length) return [];
    if (role === "viewer") {
      return tasks.filter(
        (t) => (t.assigned || "").trim().toLowerCase() === me
      );
    }
    return tasks; // owner
  }, [tasks, role, me]);

  // project options from *visible* tasks
  const projectOptions = useMemo(() => {
    const uniq = Array.from(
      new Set(visibleTasks.map((t) => t.project).filter(Boolean))
    ).sort();
    return ["All Projects", ...uniq];
  }, [visibleTasks]);

  // Optional filter by project
  const filtered = useMemo(() => {
    if (projectFilter === "All Projects") return visibleTasks;
    return visibleTasks.filter((t) => t.project === projectFilter);
  }, [visibleTasks, projectFilter]);

  // Map each grid day to tasks that overlap that day (inclusive)
  const tasksByDayKey = useMemo(() => {
    const map = new Map(); // "YYYY-MM-DD" => Task[]
    const keyOf = (d) =>
      `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, "0")}-${String(d.getDate()).padStart(2, "0")}`;

    if (!filtered.length) return map;

    const gridEnd = gridDays[gridDays.length - 1];

    for (const t of filtered) {
      const s = parseDate(t.started);
      const e = parseDate(t.due);
      if (!s || !e) continue;

      const first = new Date(Math.max(s.getTime(), gridDays[0].getTime()));
      const last = new Date(Math.min(e.getTime(), gridEnd.getTime()));

      for (let d = new Date(first); d.getTime() <= last.getTime(); d.setDate(d.getDate() + 1)) {
        const k = keyOf(d);
        if (!map.has(k)) map.set(k, []);
        map.get(k).push(t);
      }
    }

    return map;
  }, [filtered, gridDays]);

  const monthLabel = useMemo(
    () =>
      currentMonth.toLocaleDateString("en-US", {
        month: "long",
        year: "numeric",
      }),
    [currentMonth]
  );

  const weekdayShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

  // nav
  const goPrev = () => setCurrentMonth((m) => new Date(m.getFullYear(), m.getMonth() - 1, 1));
  const goNext = () => setCurrentMonth((m) => new Date(m.getFullYear(), m.getMonth() + 1, 1));
  const goToday = () => {
    const d = new Date();
    setCurrentMonth(new Date(d.getFullYear(), d.getMonth(), 1));
  };

  const isToday = (date) => {
    const t = new Date();
    return (
      t.getFullYear() === date.getFullYear() &&
      t.getMonth() === date.getMonth() &&
      t.getDate() === date.getDate()
    );
  };

  return (
    <div className="cal-wrap">
      {/* Top controls: month nav + project filter */}
      <div className="cal-topbar">
        <div className="cal-controls">
          <button type="button" className="cal-btn" onClick={goPrev}>‚Üê Prev</button>
          <span className="month-chip">{monthLabel}</span>
          <button type="button" className="cal-btn" onClick={goNext}>Next ‚Üí</button>
          <button type="button" className="cal-btn" onClick={goToday}>Today</button>
        </div>

        <div>
          <select
            className="cal-select"
            value={projectFilter}
            onChange={(e) => setProjectFilter(e.target.value)}
          >
            {projectOptions.map((p) => (
              <option key={p} value={p}>{p}</option>
            ))}
          </select>
        </div>
      </div>

      {/* Weekday headers */}
      <div className="cal-weekdays">
        {weekdayShort.map((d) => (
          <div key={d} className="cal-weekday">{d}</div>
        ))}
      </div>

      {/* 6x7 calendar grid */}
      <div className="cal-grid">
        {gridDays.map((d) => {
          const inMonth = d.getMonth() === visibleMonthIndex && d.getFullYear() === visibleYear;
          const todayCell = isToday(d);
          const dayKey = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, "0")}-${String(
            d.getDate()
          ).padStart(2, "0")}`;
          const items = (tasksByDayKey.get(dayKey) || []).slice();

          // Sort tasks for the cell: by status, then by project, then by task
          items.sort((a, b) => {
            const sa = a.status || "", sb = b.status || "";
            if (sa < sb) return -1; if (sa > sb) return 1;
            const pa = a.project || "", pb = b.project || "";
            if (pa < pb) return -1; if (pa > pb) return 1;
            return (a.task || "").localeCompare(b.task || "");
          });

          return (
            <div
              key={dayKey}
              className={[
                "cal-cell",
                inMonth ? "in" : "out",
                todayCell ? "today" : ""
              ].join(" ").trim()}
            >
              <div className="date-badge">
                {d.getDate()}
                {!inMonth && (
                  <span className="date-month">{d.toLocaleDateString("en-US", { month: "short" })}</span>
                )}
              </div>

              {/* Task pills container with scrolling */}
              <div className="cell-scroll">
                {items.map((t) => {
                  const hex = statusColors[t.status] || "#999999";
                  return (
                    <span
                      key={t.id || `${t.project}-${t.task}-${dayKey}`}
                      className="task-pill"
                      title={`${t.task} ‚Äî ${t.assigned} (${t.status})`}
                      style={{
                        backgroundColor: hex + "22",
                        borderColor: hex + "55",
                      }}
                    >
                      {t.project} ¬∑ {t.task}
                    </span>
                  );
                })}
              </div>
            </div>
          );
        })}
      </div>
    </div>
  );
}

--------------------------------------------------------------------------------

======================== 7. src\components\content.css =========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\content.css
Size: 1166 bytes
--------------------------------------------------------------------------------

.content {
    padding: 20px 0 0 0;
}

.tab-bar {
    display: flex;
    border-bottom: 2px solid #ddd;
    justify-content: space-between;
    align-items: center;
    padding: 0 0 0 10px;
}

.tab {
    background: none;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 16px;
    color: #555;
    border-bottom: 2px solid transparent;
    transition: all 0.2s ease;
}

.new-btn button{
  background: #28a745;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  position: relative;
  top: -5px;             /* raise it up */
  margin-right: 20px;
}

.new-btn button:hover {
  background: #218838;
}

.tab:hover {
    color: #000;
    background-color: #b4b4b481;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}

.tab.active {
    color: #000;
    font-weight: bold;
    border-bottom: 2px solid #4285f4; /* Google-style blue underline */
    
}

.tab-content {
    padding: 20px;
    background: #fafafa;
    border-radius: 4px;
    min-height: 78vh;
}


.view {
    font-size: 18px;
}

--------------------------------------------------------------------------------

======================== 8. src\components\content.jsx =========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\content.jsx
Size: 1746 bytes
--------------------------------------------------------------------------------

import React, { useState } from "react";
import './content.css';
import ToDoList from "./ToDoList";
import Gantt from "./gantt";
import Calendar from "./calendar";
import { useNavigate } from "react-router-dom";

export default function Content() {
  const [activeTab, setActiveTab] = useState('To Do List');
  const navigate = useNavigate();

  const tabs = {
    'To Do List': <ToDoList />,
    'Gantt': <Gantt />,
    'Calendar' : <Calendar />
  };

  const handleNewProject = () => {
    const newProjectId = crypto.randomUUID();
    navigate(`/edit-project/${newProjectId}`);
  };
  const isOwner = localStorage.getItem('role') === 'owner'
  const isAdmin = localStorage.getItem('role') === 'admin'

  const handleNewUser = () => {
    navigate('/new-users');
  }

  return (
    <div className="content">
      <div className="tab-bar">
        <div style={{ display: "flex", gap: "10px" }}>
          {Object.keys(tabs).map((key) => (
            <button
              key={key}
              className={activeTab === key ? 'tab active' : 'tab'}
              onClick={() => setActiveTab(key)}>
              {key}
            </button>
          ))}
        </div>
        <div className='new-btn'>
          {
            isAdmin &&
            <button className='padding' onClick={handleNewUser}>
              Add Users
            </button>
          }
          {(isOwner || isAdmin) &&
          <button className='padding' onClick={handleNewProject}>
            Create New Project
          </button>
          }
        </div>
      </div>

      <div className="selection">
        <div className="tab-content">{tabs[activeTab]}</div>
      </div>
    </div>
  );
}

--------------------------------------------------------------------------------

====================== 9. src\components\editProject.jsx =======================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\editProject.jsx
Size: 15298 bytes
--------------------------------------------------------------------------------

import React, { useEffect, useMemo, useState } from "react";
import { useParams, useNavigate } from "react-router-dom";
import "./ToDoList.css";
import "./editTask.css";

export default function EditProject() {
  const { projectId } = useParams();
  const navigate = useNavigate();

  const priorityOptions = ["High", "Medium", "Low"];
  const priorityColors = { High: "#ef4444", Medium: "#f59e0b", Low: "#10b981" };

  const [tasks, setTasks] = useState([]);     // tasks for this project
  const [changed, setChanged] = useState([]); // changed/new tasks
  const [loading, setLoading] = useState(true);

  // Signed-in name from MS login (fallback empty)
  const signedInName = (localStorage.getItem("name") || "").trim();

  // ---------- date helpers ----------
  const toISODate = (val) => {
    if (!val) return "";
    if (/^\d{4}-\d{2}-\d{2}$/.test(val)) return val; // already ISO
    const d = new Date(val);
    if (isNaN(d.getTime())) return "";
    const yyyy = d.getFullYear();
    const mm = String(d.getMonth() + 1).padStart(2, "0");
    const dd = String(d.getDate()).padStart(2, "0");
    return `${yyyy}-${mm}-${dd}`;
  };

  const toLongDate = (val) => {
    if (!val) return "-";
    const d = new Date(val);
    if (isNaN(d.getTime())) return "-";
    return d.toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric",
    });
  };

  const nextNumber = (list) =>
    (list.reduce((m, t) => Math.max(m, Number(t.number || 0)), 0) || 0) + 1;

  const markChanged = (updatedTask) => {
    setChanged((prev) => {
      const idx = prev.findIndex((t) => t.id === updatedTask.id);
      if (idx === -1) return [...prev, updatedTask];
      const copy = [...prev];
      copy[idx] = updatedTask;
      return copy;
    });
  };

  // ---------- load tasks ----------
  useEffect(() => {
    let alive = true;
    (async () => {
      try {
        const res = await fetch("http://localhost:5000/api/tasks");
        const data = await res.json();

        // Accept both flat array and { OwnerName: Task[] } shapes
        const flat = Array.isArray(data)
          ? data
          : data && typeof data === "object"
          ? Object.values(data).flat()
          : [];

        const projectTasks = flat
          .filter((t) => t.projectId === projectId)
          .map((t, i) => ({
            ...t,
            number: typeof t.number === "number" ? t.number : i + 1,
            dependencies: Array.isArray(t.dependencies) ? t.dependencies : [],
            started: toISODate(t.started), // normalize to ISO for input
            due: toISODate(t.due),
            owner: t.owner || "",          // may be missing in old data
          }));

        if (!alive) return;
        setTasks(projectTasks);
      } catch (e) {
        console.error("Failed to load tasks:", e);
      } finally {
        if (alive) setLoading(false);
      }
    })();
    return () => {
      alive = false;
    };
  }, [projectId]);

  const projectName = useMemo(
    () => (tasks[0]?.project ? tasks[0].project : "New Project"),
    [tasks]
  );

  // Resolve owner to write on save:
  // 1) existing task owner if present
  // 2) signed-in name
  // 3) empty string
  const resolvedOwner = useMemo(() => {
    const existing = tasks.find((t) => (t.owner || "").trim());
    return existing?.owner || signedInName || "";
  }, [tasks, signedInName]);

  // Create a starter row if nothing exists once loaded
  useEffect(() => {
    if (loading || tasks.length) return;
    const t = {
      id: crypto.randomUUID(),
      projectId,
      project: "New Project",
      number: 1,
      task: "",
      status: "IN PROGRESS",
      priority: "Low",
      assigned: "",
      dependencies: [],
      started: "",
      due: "",
      note: "",
      owner: resolvedOwner,
    };
    setTasks([t]);
    setChanged([t]);
  }, [loading, tasks.length, projectId, resolvedOwner]);

  // ---------- handlers ----------
  const handleTaskChange = (index, field, value) => {
    setTasks((prev) => {
      const copy = [...prev];
      let v = value;

      if (field === "started" || field === "due") v = toISODate(value);
      copy[index] = { ...copy[index], [field]: v };

      // ensure owner always present for changed rows
      if (!copy[index].owner) copy[index].owner = resolvedOwner;

      markChanged(copy[index]);
      return copy;
    });
  };

  const handleAddTask = () => {
    setTasks((prev) => {
      const t = {
        id: crypto.randomUUID(),
        projectId,
        project: projectName || "New Project",
        number: nextNumber(prev),
        task: "",
        status: "IN PROGRESS",
        priority: "Low",
        assigned: "",
        dependencies: [],
        started: "",
        due: "",
        note: "",
        owner: resolvedOwner,
      };
      markChanged(t);
      return [...prev, t];
    });
  };

  const handleRemoveDependency = (taskIndex, depIndex) => {
    setTasks((prev) => {
      const copy = [...prev];
      const deps = Array.isArray(copy[taskIndex].dependencies)
        ? [...copy[taskIndex].dependencies]
        : [];
      deps.splice(depIndex, 1);
      copy[taskIndex] = { ...copy[taskIndex], dependencies: deps };
      if (!copy[taskIndex].owner) copy[taskIndex].owner = resolvedOwner;
      markChanged(copy[taskIndex]);
      return copy;
    });
  };

  const [depDraft, setDepDraft] = useState({});
  const handleAddDependency = (taskIndex) => {
    const task = tasks[taskIndex];
    const draft = depDraft[task.id] || { type: "FS", target: "" };
    const type = (draft.type || "FS").toUpperCase();
    const target = Number(draft.target);

    if (!target || target === task.number) return; // ignore invalid/self
    const exists = (task.dependencies || []).some(
      (d) => String(d.type).toUpperCase() === type && Number(d.target) === target
    );
    if (exists) return;

    setTasks((prev) => {
      const copy = [...prev];
      const deps = Array.isArray(copy[taskIndex].dependencies)
        ? [...copy[taskIndex].dependencies]
        : [];
      deps.push({ type, target });
      copy[taskIndex] = { ...copy[taskIndex], dependencies: deps };
      if (!copy[taskIndex].owner) copy[taskIndex].owner = resolvedOwner;
      markChanged(copy[taskIndex]);
      return copy;
    });
  };

  // Normalize to the required shape for saving:
  // - include owner
  // - started/due as "Month D, YYYY" (or "-" if empty)
  const normalizeForSave = (t) => ({
    id: t.id,
    projectId: t.projectId,
    project: t.project,
    task: t.task,
    status: t.status || "IN PROGRESS",
    priority: t.priority,
    assigned: t.assigned || "",
    started: t.started ? toLongDate(t.started) : "-",
    due: t.due ? toLongDate(t.due) : "-",
    note: t.note || "-",
    owner: (t.owner || resolvedOwner || "").trim(),
    // keep number & dependencies if you need them server-side (optional):
    number: typeof t.number === "number" ? t.number : undefined,
    dependencies: Array.isArray(t.dependencies) ? t.dependencies : [],
  });

  const handleSave = async () => {
    try {
      const payloadSrc = changed.length ? changed : tasks;
      const payload = payloadSrc.map(normalizeForSave);

      const res = await fetch(`http://localhost:5000/api/tasks/${projectId}`, {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });
      if (!res.ok) throw new Error("Failed to save tasks");
      await res.json();
      navigate("/");
    } catch (err) {
      console.error(err);
      alert("Save failed. See console for details.");
    }
  };

  const handleDelete = async () => {
    if (!window.confirm("Delete this project and all its tasks?")) return;
    try {
      await fetch(`http://localhost:5000/api/projects/${projectId}`, {
        method: "DELETE",
      });
      navigate("/");
    } catch (err) {
      console.error("Project delete failed", err);
      alert("Delete failed. See console for details.");
    }
  }

  if (loading) return <div className="todo-container">Loading‚Ä¶</div>;

  return (
    <div className="todo-container">
      <input
        className="edit-title"
        style={{ textAlign: "left", marginBottom: "10px", width: "100%" }}
        placeholder={`${projectName}${tasks.length === 0 ? " ‚Äì New Project" : ""}`}
      ></input>

      <table className="todo-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Task Name</th>
            <th>Priority</th>
            <th>Dependencies</th>
            <th>Start Date</th>
            <th>Due Date</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          {tasks.map((t, index) => {
            const draft = depDraft[t.id] || { type: "FS", target: "" };
            const dependencyTargets = tasks
              .filter((x) => x.number !== t.number)
              .map((x) => x.number);

            return (
              <tr key={t.id}>
                <td>{t.number}</td>

                <td>
                  <input
                    className="edit-task-box"
                    placeholder="Enter Task Name"
                    type="text"
                    value={t.task}
                    onChange={(e) => handleTaskChange(index, "task", e.target.value)}
                  />
                </td>

                <td>
                  <select
                    className="dropdown priority"
                    value={t.priority}
                    onChange={(e) => handleTaskChange(index, "priority", e.target.value)}
                    style={{ color: priorityColors[t.priority], fontWeight: "bold" }}
                  >
                    {priorityOptions.map((p) => (
                      <option
                        key={p}
                        value={p}
                        style={{ color: priorityColors[p], fontWeight: "bold" }}
                      >
                        {p}
                      </option>
                    ))}
                  </select>
                </td>

                <td>
                  <div>
                    {(t.dependencies || []).map((d, di) => (
                      <span
                        key={`${d.type}-${d.target}-${di}`}
                        style={{
                          background: "#eee",
                          padding: "3px 6px",
                          margin: "2px",
                          borderRadius: "3px",
                          display: "inline-flex",
                          alignItems: "center",
                          gap: 6,
                        }}
                      >
                        {d.type} - {d.target}
                        <button
                          style={{
                            color: "red",
                            border: "none",
                            background: "none",
                            cursor: "pointer",
                          }}
                          onClick={() => handleRemoveDependency(index, di)}
                          aria-label="Remove dependency"
                          title="Remove"
                        >
                          ‚úï
                        </button>
                      </span>
                    ))}
                  </div>

                  <div style={{ display: "flex", gap: 6, marginTop: 6 }}>
                    <select
                      value={draft.type}
                      onChange={(e) =>
                        setDepDraft((s) => ({ ...s, [t.id]: { ...draft, type: e.target.value } }))
                      }
                    >
                      <option>FS</option>
                      <option>SS</option>
                      <option>FF</option>
                      <option>SF</option>
                    </select>

                    <select
                      value={draft.target}
                      onChange={(e) =>
                        setDepDraft((s) => ({ ...s, [t.id]: { ...draft, target: e.target.value } }))
                      }
                    >
                      <option value="">Task #</option>
                      {dependencyTargets.map((num) => (
                        <option key={num} value={num}>
                          {num}
                        </option>
                      ))}
                    </select>

                    <button
                      style={{
                        background: "#007bff",
                        color: "white",
                        border: "none",
                        padding: "2px 8px",
                        borderRadius: "4px",
                        cursor: "pointer",
                      }}
                      onClick={() => handleAddDependency(index)}
                    >
                      Add
                    </button>
                  </div>
                </td>

                <td>
                  <input
                    className="calendar-input"
                    type="date"
                    value={t.started || ""}
                    onChange={(e) => handleTaskChange(index, "started", e.target.value)}
                  />
                </td>

                <td>
                  <input
                    className="calendar-input"
                    type="date"
                    value={t.due || ""}
                    onChange={(e) => handleTaskChange(index, "due", e.target.value)}
                  />
                </td>

                <td>
                  <textarea
                    className="note-textarea"
                    value={t.note || ""}
                    onChange={(e) => handleTaskChange(index, "note", e.target.value)}
                  />
                </td>
              </tr>
            );
          })}

          <tr>
            <td colSpan="7" style={{ textAlign: "center" }}>
              <button
                style={{
                  background: "#28a745",
                  color: "white",
                  padding: "6px 12px",
                  border: "none",
                  borderRadius: "4px",
                  cursor: "pointer",
                }}
                onClick={handleAddTask}
              >
                ‚ûï Add New Task
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <div style={{ marginTop: 15, display: "flex", justifyContent: "space-between", gap: '5px'}}>
        <button className="back-btn" onClick={() => navigate("/")}>
          ‚¨Ö Back
        </button>
        <button className='del-btn' onClick={handleDelete}>
          Delete Project
        </button>
        <button className="save-btn" onClick={handleSave}>
          Save Changes
        </button>
      </div>
    </div>
  );
}

--------------------------------------------------------------------------------

======================= 10. src\components\editTask.css ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\editTask.css
Size: 1290 bytes
--------------------------------------------------------------------------------

.edit-task-box {
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 5px;
  width: 80%;
  margin: 30px auto;
  box-shadow: 0px 2px 10px rgba(0,0,0,0.05);
}

.edit-title {
  text-align: center;
  margin-bottom: 15px;
  font-weight: bold;
  height: 30px;
  margin: 0 1680px 0 0;
  width: auto !important;
}

.edit-task-box label {
  display: block;
  font-weight: bold;
  margin-top: 10px;
}

.button-group {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
}

.save-btn {
  background: #007bff;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
}

.del-btn {
  background: #dc3545;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  margin-left: auto;
}

.back-btn {
  background: #6c757d;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
}

.save-btn:hover { background: #0056b3; }
.back-btn:hover { background: #555; }

.calendar-1nput {
  width: 100px;
  padding: 6px 8px;
  font-size: 13px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: #fff;
  cursor: pointer;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}

--------------------------------------------------------------------------------

========================= 11. src\components\gantt.css =========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\gantt.css
Size: 3609 bytes
--------------------------------------------------------------------------------

.gantt {
  padding: 20px;
  font-family: Arial, sans-serif;

  /* ensure the page itself never gets horizontal scroll from the gantt */
  max-width: 100vw;
  overflow-x: hidden;
}

/* toolbar + zoom */
.gantt-toolbar {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 10px;
}
.project-select {
  padding: 6px;
  font-size: 14px;
}
.zoom-group {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left: auto;
}
.zoom-group > button {
  padding: 4px 8px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: #f8f8f8;
  cursor: pointer;
}
.zoom-reset { font-size: 12px; }
.zoom-slider { width: 180px; }

/* 2 columns: labels | timeline */
.gantt-main {
  display: grid;
  grid-template-columns: 220px 1fr;
  column-gap: 10px;

  /* consumed by header and bars; updated inline via style */
  --day-width: 36px;
}

/* LEFT: labels */
.labels-col {
  position: relative;
  z-index: 2;
  background: #fff;
}
.labels-header {
  display: flex;
  align-items: center;
  height: 32px;
  padding: 0 8px;
  background: #fafafa;
  border-bottom: 2px solid #ddd;
  font-weight: 600;
}
.label-row {
  display: grid;
  grid-template-columns: 64px 12px 1fr; /* project | dash | assignee */
  align-items: center;
  height: 40px;                         /* must match JS rowHeight */
  padding-right: 6px;
  overflow: hidden;
}
.label-project {
  text-align: right;
  padding-right: 6px;
  font-variant-numeric: tabular-nums;
}
.label-sep { text-align: center; opacity: 0.6; }
.label-assigned {
  min-width: 0;           /* enable ellipsis within grid */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* RIGHT: timeline column only */
.timeline-col {
  position: relative;
  z-index: 1;
  overflow: hidden;       /* prevent this column from causing page overflow */
}

/* the ONLY place we allow horizontal scrolling */
.timeline-scroller {
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
  -webkit-overflow-scrolling: touch;
}

/* header grid: one col per day; draws vertical grid lines */
.timeline-header {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: var(--day-width);
  height: 32px;
  align-items: center;
  box-sizing: border-box;
  border-bottom: 1px solid #eee;
  border-right: 1px solid #f3f3f3;
  background:
    repeating-linear-gradient(
      to right,
      transparent 0,
      transparent calc(var(--day-width) - 1px),
      #f3f3f3 calc(var(--day-width) - 1px),
      #f3f3f3 var(--day-width)
    ),
    #fafafa;
}
.gantt-day {
  text-align: center;
  font-size: 13px;
  font-weight: 500;
  padding: 6px 0;
}
.highlight-today {
  background-color: #fffbcc;
  border: 2px solid #facc15 !important;
  font-weight: bold;
  color: #92400e;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* bars layer shares width with header; clip overhang */
.bars-layer {
  position: relative;
  box-sizing: border-box;
  border-right: 1px solid #f3f3f3;
  overflow: hidden;
  background:
    repeating-linear-gradient(
      to right,
      transparent 0,
      transparent calc(var(--day-width) - 1px),
      #f8f8f8 calc(var(--day-width) - 1px),
      #f8f8f8 var(--day-width)
    );
}

/* task bars */
.gantt-bar {
  position: absolute;
  height: 28px;
  border-radius: 6px;
  color: #fff;
  font-size: 12px;
  display: flex;
  align-items: center;
  padding: 0 8px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

--------------------------------------------------------------------------------

========================= 12. src\components\gantt.jsx =========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\gantt.jsx
Size: 14420 bytes
--------------------------------------------------------------------------------

import React, { useEffect, useMemo, useRef, useState } from "react";
import "./gantt.css";

export default function Gantt() {
  const [rawTasks, setRawTasks] = useState([]);
  const [selectedProject, setSelectedProject] = useState("");
  const timelineColRef = useRef(null);
  const scrollerRef = useRef(null);

  // role / identity
  const role = (localStorage.getItem("role") || "").trim().toLowerCase(); // "owner" | "viewer"
  const me = (localStorage.getItem("name") || "").trim().toLowerCase();

  const statusColors = {
    "IN PROGRESS": "#3b82f6",
    PENDING: "#10b981",
    "READY FOR DEV": "#a855f7",
    REVIEW: "#facc15",
    "ISSUES FOUND": "#ef4444",
    COMPLETED: "#178800ff",
  };

  const ALL = "__ALL__";
  const dayMs = 24 * 60 * 60 * 1000;
  const rowHeight = 40;

  // ====== ZOOM ======
  const ZOOM_MIN = 1;    // üëà cannot shrink below "fit to container"
  const ZOOM_MAX = 2;
  const [zoom, setZoom] = useState(1);
  const [pxPerDay, setPxPerDay] = useState(36);
  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

  // ---------- fetch ----------
  useEffect(() => {
    fetch("http://localhost:5000/api/tasks")
      .then((r) => r.json())
      .then((data) => {
        let flat = [];
        if (Array.isArray(data)) flat = data;
        else if (data && typeof data === "object") {
          for (const [owner, arr] of Object.entries(data)) {
            if (Array.isArray(arr)) flat.push(...arr.map((t) => ({ ...t, owner })));
          }
        }
        setRawTasks(flat);
      })
      .catch((e) => console.error("Failed to load tasks:", e));
  }, []);

  // ---------- helpers ----------
  const startOfDay = (d) => {
    const x = new Date(d);
    x.setHours(0, 0, 0, 0);
    return x;
  };
  const parseDate = (d) => {
    if (!d || d === "-") return null;
    const s = String(d).toLowerCase();
    const now = new Date();
    if (s === "today") return startOfDay(now);
    if (s === "tomorrow") {
      const t = new Date(now);
      t.setDate(t.getDate() + 1);
      return startOfDay(t);
    }
    const dt = new Date(d);
    return isNaN(dt.getTime()) ? null : startOfDay(dt);
  };
  const isToday = (date) => startOfDay(date).getTime() === startOfDay(new Date()).getTime();

  // safe arrays
  const tasks = useMemo(() => (Array.isArray(rawTasks) ? rawTasks : []), [rawTasks]);

  // role-based visibility
  const visibleTasks = useMemo(() => {
    if (!tasks.length) return [];
    if (role === "viewer") {
      return tasks.filter((t) => (t.assigned || "").trim().toLowerCase() === me);
    }
    return tasks; // owner
  }, [tasks, role, me]);

  // projects list (always array, includes ALL)
  const projects = useMemo(() => {
    const uniq = Array.from(new Set(visibleTasks.map((t) => t.project).filter(Boolean)));
    return [ALL, ...uniq];
  }, [visibleTasks]);

  // keep selection valid
  useEffect(() => {
    if (!projects.length) return;
    if (!selectedProject || !projects.includes(selectedProject)) setSelectedProject(ALL);
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [projects]);

  // project filter
  const filteredTasks = useMemo(() => {
    if (!visibleTasks.length) return [];
    return selectedProject === ALL
      ? visibleTasks
      : visibleTasks.filter((t) => t.project === selectedProject);
  }, [visibleTasks, selectedProject]);

  // ----- timeline window -----
  const allStarts = filteredTasks.map((t) => parseDate(t.started)).filter(Boolean);
  const allEnds = filteredTasks.map((t) => parseDate(t.due)).filter(Boolean);

  const fallbackStart = allStarts.length ? new Date(Math.min(...allStarts)) : startOfDay(new Date());
  const fallbackEnd =
    allEnds.length ? new Date(Math.max(...allEnds)) : new Date(fallbackStart.getTime() + dayMs);

  const projectStart = startOfDay(fallbackStart);
  const projectEnd = startOfDay(fallbackEnd);
  const totalDays = Math.max(
    1,
    Math.round((projectEnd.getTime() - projectStart.getTime()) / dayMs) + 1
  );

  /**
   * Compute px/day from the RIGHT column‚Äôs available width.
   * - At zoom=1 => fit the container exactly (no horizontal scroll).
   * - At other zoom levels => clamp for usability, and allow horizontal scroll
   *   INSIDE the timeline scroller (not the whole page).
   */
  useEffect(() => {
    const el = timelineColRef.current;
    if (!el || totalDays <= 0) return;

    const compute = () => {
      const available = el.clientWidth || 1;
      const fitPerDay = available / totalDays;         // exact-fit width per day
      const desired   = fitPerDay * zoom;              // requested zoom
      const maxPerDay = 96;                            // upper bound for usability

      // üëá enforce: never smaller than the viewing window (fit)
      const w = Math.max(fitPerDay, Math.min(desired, maxPerDay));
      setPxPerDay(w);
    };

    compute();
    const ro = new ResizeObserver(compute);
    ro.observe(el);
    return () => ro.disconnect();
  }, [totalDays, zoom]);

  // keep scroll centered when content width changes (zoom)
  useEffect(() => {
    const el = scrollerRef.current;
    if (!el) return;
    const onWheel = (e) => {
      if (!e.ctrlKey) return;
      e.preventDefault();
      const factor = e.deltaY > 0 ? 0.9 : 1.1;
      setZoom((z) => clamp(z * factor, ZOOM_MIN, ZOOM_MAX)); // üëà min = 1 (fit)
    };
    el.addEventListener("wheel", onWheel, { passive: false });
    return () => el.removeEventListener("wheel", onWheel);
  }, []);

  // wheel zoom (Ctrl + wheel) on the timeline scroller only
  useEffect(() => {
    const el = scrollerRef.current;
    if (!el) return;
    const onWheel = (e) => {
      if (!e.ctrlKey) return;
      e.preventDefault();
      const factor = e.deltaY > 0 ? 0.9 : 1.1;
      setZoom((z) => clamp(z * factor, ZOOM_MIN, ZOOM_MAX));
    };
    el.addEventListener("wheel", onWheel, { passive: false });
    return () => el.removeEventListener("wheel", onWheel);
  }, []);

  // -------- dependencies (safe) --------
  const depRegex = /^(FS|SS|FF|SF)\s*-\s*(\d+)$/i;
  const getDeps = (task) => {
    const raw = task?.dependencies;
    const normalizeOne = (v) => {
      if (typeof v === "string") {
        const m = v.trim().match(depRegex);
        return m ? { type: m[1].toUpperCase(), target: parseInt(m[2], 10) } : null;
      }
      if (v && typeof v === "object") {
        const type = String(v.type || "").toUpperCase();
        const target = parseInt(v.target ?? v.number ?? v.id ?? "", 10);
        return ["FS", "SS", "FF", "SF"].includes(type) && Number.isFinite(target) ? { type, target } : null;
      }
      if (typeof v === "number" && Number.isFinite(v)) return { type: "FS", target: v };
      return null;
    };
    const list = Array.isArray(raw)
      ? raw
      : typeof raw === "string"
      ? raw.split(",").map((s) => s.trim()).filter(Boolean)
      : [];
    return list.map(normalizeOne).filter(Boolean);
  };

  // predecessor map per project
  const byNumberPerProject = useMemo(() => {
    const map = new Map();
    for (const t of filteredTasks) {
      const proj = t.project || "";
      if (!map.has(proj)) map.set(proj, new Map());
      if (typeof t.number === "number") map.get(proj).set(t.number, t);
    }
    return map;
  }, [filteredTasks]);

  const getEffectiveStart = (task) => {
    const s = parseDate(task.started);
    const e = parseDate(task.due);
    if (!s && !e) return new Date(projectStart);

    let effStartMs = (s || e || projectStart).getTime();
    const baseDuration = s && e ? e.getTime() - s.getTime() + dayMs : dayMs;

    const preds = byNumberPerProject.get(task.project || "");
    if (preds) {
      for (const dep of getDeps(task)) {
        const pred = preds.get(dep.target);
        if (!pred) continue;
        const ps = parseDate(pred.started);
        const pe = parseDate(pred.due);
        if (!ps || !pe) continue;

        const predStart = ps.getTime();
        const predFinish = pe.getTime() + dayMs;
        if (dep.type === "FS") effStartMs = Math.max(effStartMs, predFinish);
        else if (dep.type === "SS") effStartMs = Math.max(effStartMs, predStart);
        else if (dep.type === "FF") effStartMs = Math.max(effStartMs, predFinish - baseDuration);
        else if (dep.type === "SF") effStartMs = Math.max(effStartMs, predStart - baseDuration);
      }
    }
    return startOfDay(new Date(effStartMs));
  };

  // enrich + position
  const enrichedTasks = useMemo(() => {
    return filteredTasks
      .map((t) => {
        const effStart = getEffectiveStart(t);
        const due = parseDate(t.due) || effStart;
        const startIdx = Math.max(0, Math.floor((effStart.getTime() - projectStart.getTime()) / dayMs));
        const endIdxInc = Math.max(
          startIdx + 1,
          Math.floor((due.getTime() - projectStart.getTime()) / dayMs) + 1
        );
        return { ...t, _startIdx: startIdx, _endIdxInc: endIdxInc };
      })
      .sort((a, b) => a._startIdx - b._startIdx);
  }, [filteredTasks, projectStart]);

  const positionedTasks = useMemo(
    () => enrichedTasks.map((t, i) => ({ ...t, row: i })),
    [enrichedTasks]
  );

  // date range for header
  const dateRange = useMemo(() => {
    const arr = [];
    for (let i = 0; i < totalDays; i++) {
      const d = new Date(projectStart);
      d.setDate(d.getDate() + i);
      arr.push(d);
    }
    return arr;
  }, [projectStart, totalDays]);

  // ---------- UI handlers ----------
  const onZoomSlider = (e) => setZoom(clamp(parseFloat(e.target.value), ZOOM_MIN, ZOOM_MAX));
  const zoomIn  = () => setZoom((z) => clamp(z * 1.1, ZOOM_MIN, ZOOM_MAX));
  const zoomOut = () => setZoom((z) => clamp(z / 1.1, ZOOM_MIN, ZOOM_MAX));
  const resetZoom = () => setZoom(1);

  return (
    <div className="gantt">
      <div className="gantt-toolbar">
        <select
          className="project-select"
          value={selectedProject}
          onChange={(e) => setSelectedProject(e.target.value)}
        >
          {projects.map((p) => (
            <option key={p} value={p}>
              {p === ALL ? "All Projects" : p}
            </option>
          ))}
        </select>

        <div className="zoom-group">
          <button type="button" onClick={zoomOut} title="Zoom out">‚àí</button>
          <input
            type="range"
            min={ZOOM_MIN}
            max={ZOOM_MAX}
            step="0.05"
            value={zoom}
            onChange={onZoomSlider}
            className="zoom-slider"
            aria-label="Zoom"
          />
          <button type="button" onClick={zoomIn} title="Zoom in">+</button>
          <button type="button" onClick={resetZoom} className="zoom-reset" title="Reset zoom">
           {Math.round(zoom * 100)}%
          </button>
        </div>
      </div>

      {/* Prevent page-level horizontal scroll; only the timeline scroller should scroll */}
      <div
        className="gantt-main"
        style={{
          "--day-width": `${pxPerDay}px`, // consumed by CSS
        }}
      >
        {/* LEFT: labels */}
        <div className="labels-col">
          <div className="labels-header">Task</div>
          {(positionedTasks || []).map((t, i) => (
            <div
              key={t.id || i}
              className="label-row"
              style={{ height: `${rowHeight}px` }}
              title={`${t.project ?? ""}${t.project ? " ‚Äî " : ""}${t.assigned ?? ""}`}
            >
              <div className="label-project">{t.project ?? ""}</div>
              <div className="label-sep" aria-hidden="true"/>
              <div className="label-assigned">{t.assigned ?? ""}</div>
            </div>
          ))}
        </div>

        {/* RIGHT: header + bars inside a horizontally scrollable container */}
        <div className="timeline-col" ref={timelineColRef}>
          <div className="timeline-scroller" ref={scrollerRef}>
            {/* Header */}
            <div
              className="timeline-header"
              style={{
                display: "grid",
                gridTemplateColumns: `repeat(${totalDays}, var(--day-width))`,
                width: `calc(var(--day-width) * ${totalDays})`,
              }}
            >
              {(dateRange || []).map((d, i) => (
                <div key={i} className={`gantt-day ${isToday(d) ? "highlight-today" : ""}`}>
                  {i === 0 || i === totalDays - 1
                    ? d.toLocaleDateString("en-US", { month: "short", day: "numeric" })
                    : d.getDate()}
                </div>
              ))}
            </div>

            {/* Bars */}
            <div
              className="bars-layer"
              style={{
                width: `calc(var(--day-width) * ${totalDays})`,
                height: `${(positionedTasks || []).length * rowHeight + 8}px`,
              }}
            >
              {(positionedTasks || []).map((t, i) => {
                const atRightEdge = t._endIdxInc === totalDays;
                return (
                  <div
                    key={t.id || i}
                    className="gantt-bar"
                    style={{
                      left: `calc(var(--day-width) * ${t._startIdx})`,
                      width: `calc(var(--day-width) * ${t._endIdxInc - t._startIdx})`,
                      top: `${t.row * rowHeight + 6}px`,
                      backgroundColor: statusColors[t.status] || "#888",
                      borderTopRightRadius: 6,
                      borderBottomRightRadius: 6,
                    }}
                    title={`${t.number != null ? `#${t.number} ` : ""}${t.task} ‚Äî ${t.project ?? ""}${
                      t.project ? " ‚Äî " : ""
                    }${t.assigned ?? ""}`}
                  >
                    {t.task}
                  </div>
                );
              })}
            </div>
          </div>
        </div>
      </div>

      {!positionedTasks.length && (
        <div style={{ padding: 12 }}>No tasks for this selection.</div>
      )}
    </div>
  );
}

--------------------------------------------------------------------------------

======================== 13. src\components\header.css =========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\header.css
Size: 650 bytes
--------------------------------------------------------------------------------

.header {
    height: 10%;
    background-color: rgb(243, 243, 243);
    border-bottom: 1px solid rgb(231, 231, 231);
    color: rgb(143, 141, 141);
    display: flex;
    align-items: center;
    padding: 0 20px;
}

.left {
    margin-right: auto;
}

.right {
    margin-left: auto;
}

.login-btn {
    background: #3b82f6;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.2s ease;
}

.login-btn:hover {
    background: #2563eb;
}

.user-info {
    font-size: 14px;
    color: #333;
    font-weight: bold;
}

--------------------------------------------------------------------------------

======================== 14. src\components\header.jsx =========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\header.jsx
Size: 4489 bytes
--------------------------------------------------------------------------------

import React, { useEffect, useState } from "react";
import "./header.css";
import { useMsal } from "@azure/msal-react";
import { loginRequest } from "../msalConfig";
import { useNavigate } from "react-router-dom";

function normalizeUsers(data) {
  return {
    admin: Array.isArray(data.admin) ? data.admin : [],
    owner: Array.isArray(data.owner) ? data.owner : [],
    viewer: Array.isArray(data.viewer) ? data.viewer : [],
  };
}

export default function Header({ onLoginSuccess }) {
  const navigate = useNavigate()
  const { instance, accounts } = useMsal();
  const [username, setUsername] = useState(null);
  const [user, setUser] = useState(null);
  const [error, setError] = useState("");
  const [loading, setLoading] = useState(false);

  const handleLogin = async () => {
    try {
      setError("");
      setLoading(true);

      // Step 1: Perform MSAL login
      await instance.loginPopup({
        ...loginRequest,
        redirectUri: "http://localhost:3000",
        prompt: "select_account",
      });

      const acc = instance.getActiveAccount() ?? instance.getAllAccounts()[0];
      if (!acc) throw new Error("No account found after login.");
      instance.setActiveAccount(acc);

      setAcc(acc)
      navigate(0)
    } catch (err) {
      console.error("Login failed:", err);
      setError("Login failed. Please try again.");
    } finally {
      setLoading(false);
    }
  };

  const handleLogout = async () => {
    try {
      await instance.logoutRedirect({
        onRedirectNavigate: () => false,
      });

      instance.setActiveAccount(null);
      sessionStorage.clear();
      localStorage.clear();
      setUsername(null);
      setUser(null);
      navigate(0)
    } catch (err) {
      console.error("Logout failed:", err);
      setError("Logout failed.");
    }
  };
  // REPLACE your existing useEffect with this one
  useEffect(() => {
    const all = instance.getAllAccounts();

    // Case A: we already have a cached account -> hydrate UI
    if (all.length > 0) {
      const acc = instance.getActiveAccount() ?? all[0];
      instance.setActiveAccount(acc);
      // IMPORTANT: hydrate username/role/localStorage
      setAcc(acc);
      return;
    }

    // Case B: no cached account -> try silent SSO (won't show a popup)
    (async () => {
      try {
        const result = await instance.ssoSilent({
          ...loginRequest,
          redirectUri: "http://localhost:3000",
        });
        const acc =
          instance.getActiveAccount() ??
          instance.getAllAccounts()[0] ??
          result.account;
        if (acc) {
          instance.setActiveAccount(acc);
          setAcc(acc); // hydrate UI
        }
      } catch {
        // Not signed in silently; keep Guest view. Do NOT wipe storage yet.
      }
    })();
  }, [instance]);

  const setAcc = async (acc) =>{
          const currentName = (acc.name || acc.username || "").trim();
      setUsername(currentName);
      localStorage.setItem("name", currentName);

      if (onLoginSuccess) onLoginSuccess(acc);

      // Step 3: Fetch users/roles from backend
      const res = await fetch("http://localhost:5000/users");
      if (!res.ok) throw new Error(`HTTP ${res.status}`);

      const data = await res.json();
      const normalized = normalizeUsers(data);
      setUser(normalized);

      // Step 4: Derive role
      const me = currentName.toLowerCase();
      const has = (k) =>
        Array.isArray(normalized?.[k]) &&
        normalized[k].some((n) => String(n || "").trim().toLowerCase() === me);

      const role = has("admin") ? "admin" : has("owner") ? "owner" : "viewer";
      localStorage.setItem("role", role);
  }
  return (
    <div className="header">
      <div className="left">
        {username ? (
          <span className="user-info">üë§ {username}</span>
        ) : (
          <span>Guest</span>
        )}
      </div>
      <div className="right">
        {username ? (
          <button className="login-btn" onClick={handleLogout} disabled={loading}>
            Sign Out
          </button>
        ) : (
          <button className="login-btn" onClick={handleLogin} disabled={loading}>
            {loading ? "Signing in..." : "Sign In"}
          </button>
        )}
      </div>
      {error && <div className="error">{error}</div>}
    </div>
  );
}

--------------------------------------------------------------------------------

======================== 15. src\components\newUser.css ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\newUser.css
Size: 6651 bytes
--------------------------------------------------------------------------------

:root {
  --bg: #f7f8fb;
  --panel: #ffffff;
  --panel-2: #f2f4f7;
  --text: #0f172a;
  --muted: #6b7280;
  --border: #e5e7eb;
  --accent: #2563eb;
  --accent-strong: #1d4ed8;
  --success: #10b981;
  --danger: #ef4444;

  --radius: 14px;
  --radius-sm: 10px;
  --shadow: 0 8px 24px rgba(15, 23, 42, 0.08);
  --focus: 0 0 0 3px rgba(37, 99, 235, 0.35);

  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
}

/* Page */
.pageWrap { padding: 28px; max-width: 1140px; margin: 0 auto; }
.pageHeader {
  display: flex; align-items: center; justify-content: space-between;
  margin: 0 0 16px;
}
.pageHeader h1 { margin: 0; font-size: 30px; letter-spacing: .2px; }

/* Buttons */
.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: .5rem;
  border-radius: 10px;
  padding: 12px 16px;
  border: 1px solid transparent;
  font-weight: 700; letter-spacing: .2px;
  cursor: pointer; user-select: none;
  transition: transform 80ms ease, filter 140ms ease, box-shadow 140ms ease, border-color 140ms ease, background 140ms ease;
}
.btn:active { transform: translateY(1px) scale(.98); }
.btn:focus-visible { outline: none; box-shadow: var(--focus); }

.btn--primary {
  background: linear-gradient(180deg, #3b82f6, #2563eb);
  border-color: #1e40af;
  color: #fff;
  box-shadow: 0 8px 18px rgba(59,130,246,.25);
}
.btn--primary:hover { filter: brightness(1.03); }

.btn--secondary {
  background: #f3f4f6;
  border-color: var(--border);
  color: #111827;
}
.btn--secondary:hover { background: #e5e7eb; }

/* Input bar */
.inputBar {
  display: grid;
  grid-template-columns: 1fr 180px 140px;
  gap: 12px;
  background: var(--panel);
  padding: 14px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin-bottom: 20px;
}

.textInput, .selectInput {
  width: 90%;
  background: var(--panel-2);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 12px 12px;
  font-size: 15px;
  outline: none;
  transition: border-color 120ms ease, box-shadow 120ms ease, transform 80ms ease;
}
.textInput::placeholder { color: var(--muted); }
.textInput:focus, .selectInput:focus { border-color: var(--accent); box-shadow: var(--focus); }
.selectInput {
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, #6b7280 50%),
    linear-gradient(135deg, #6b7280 50%, transparent 50%);
  background-position:
    calc(100% - 18px) calc(1em + 1px),
    calc(100% - 13px) calc(1em + 1px);
  background-size: 5px 5px;
  background-repeat: no-repeat;
  padding-right: 38px;
}

/* Alerts */
.alert {
  background: #fff1f2;
  border: 1px solid #fecaca;
  color: #991b1b;
  padding: 10px 12px;
  border-radius: 12px;
  margin: 0 0 14px;
}

/* Grid */
.grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;
}
@media (max-width: 980px) {
  .grid { grid-template-columns: 1fr; }
  .inputBar { grid-template-columns: 1fr 1fr auto; }
}

/* Role sections */
.roleHeader { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.roleTitle { margin: 0; font-size: 18px; }

.tableCard {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--panel);
  overflow: hidden;
  box-shadow: var(--shadow);
}

.tableRow {
  display: grid;
  grid-template-columns: 44px 1fr 64px;
  align-items: center;
  gap: 0;
  padding: 12px 14px;
  border-top: 1px solid var(--border);
  background: #fff;
}
.tableRow:first-child { border-top: none; }
.tableHead {
  background: linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,.08)), var(--panel-2);
  font-weight: 700;
}
.tableHead > div { opacity: .9; }

/* Empty row */
.emptyRow {
  padding: 16px 14px;
  color: var(--muted);
  text-align: center;
}

/* Drag handle */
.dragHandle {
  justify-self: center;
  width: 28px; height: 28px;
  border-radius: 8px;
  cursor: grab;
  position: relative;
  border: 1px solid transparent;
  transition: background 120ms ease, border-color 120ms ease;
}
.dragHandle::before {
  content: "";
  position: absolute; inset: 0;
  mask: url("data:image/svg+xml;utf8,<svg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path fill='black' d='M10 4h4v2h-4V4zm0 14h4v2h-4v-2zM10 9h4v2h-4V9zm0 4h4v2h-4v-2z'/></svg>") center / 18px 18px no-repeat;
  -webkit-mask: url("data:image/svg+xml;utf8,<svg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path fill='black' d='M10 4h4v2h-4V4zm0 14h4v2h-4v-2zM10 9h4v2h-4V9zm0 4h4v2h-4v-2z'/></svg>") center / 18px 18px no-repeat;
  background: #6b7280;
  opacity: .9;
}
.tableRow:hover .dragHandle { background: #f3f4f6; border-color: #e5e7eb; }
.dragging { opacity: .6; cursor: grabbing; }

/* Delete button (nicer) */
.iconBtn {
  width: 32px; height: 32px;
  border-radius: 8px;
  border: 1px solid #f3f4f6;
  background: #f9fafb;
  display: inline-flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: background 120ms ease, transform 80ms ease, border-color 120ms ease;
}
.iconBtn:hover { background: #fee2e2; border-color: #fecaca; }
.iconBtn:active { transform: translateY(1px) scale(.98); }
.iconBtn:focus-visible { outline: none; box-shadow: var(--focus); }

.iconBtn .icon-trash {
  width: 18px; height: 18px;
  background: #ef4444;
  mask: url("data:image/svg+xml;utf8,<svg width='24' height='24' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='black' d='M9 3h6v2h5v2H4V5h5V3zm1 6h2v9h-2V9zm4 0h2v9h-2V9zM7 9h2v9H7V9z'/></svg>") center / contain no-repeat;
  -webkit-mask: url("data:image/svg+xml;utf8,<svg width='24' height='24' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='black' d='M9 3h6v2h5v2H4V5h5V3zm1 6h2v9h-2V9zm4 0h2v9h-2V9zM7 9h2v9H7V9z'/></svg>") center / contain no-repeat;
}

/* Drop zones / hover states */
.tableRow.isDragOver,
.dropZone.isDragOver {
  outline: 2px dashed #93c5fd;
  outline-offset: -6px;
  background: #f0f9ff;
}
.dropZone {
  padding: 10px;
  border-top: 1px dashed #d1d5db;
  text-align: center;
  color: #64748b;
  font-size: 12px;
  background: #fafafa;
}

/* Utility */
.visuallyHidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}
.loading { color: var(--muted); margin-top: 10px; }

--------------------------------------------------------------------------------

======================== 16. src\components\newUser.jsx ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\newUser.jsx
Size: 9240 bytes
--------------------------------------------------------------------------------

import React, { useEffect, useRef, useState } from "react";
import { useNavigate } from "react-router-dom";
import "./newUser.css";

const normalizeUsers = (data) => ({
  viewer: Array.isArray(data?.viewer) ? data.viewer : [],
  owner: Array.isArray(data?.owner) ? data.owner : [],
  admin: Array.isArray(data?.admin) ? data.admin : [],
});

export default function NewUser() {
    const navigate = useNavigate();
    const [users, setUsers] = useState({ viewer: [], owner: [], admin: [] });
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState("");
    const [inputName, setInputName] = useState("");
    const [inputRole, setInputRole] = useState("viewer");

    // DnD refs/state
    const dragItem = useRef(null); // { role, index }
    const [dragOver, setDragOver] = useState(null); // { role, index | 'end' }

    const save = async (payload) => {
        try {
        const res = await fetch("http://localhost:5000/users", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
        });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        } catch (err) {
        console.error("Save failed", err);
        setError("Could not save changes.");
        fetchUsers();
        }
    };

    const fetchUsers = async () => {
        try {
        setLoading(true);
        setError("");
        const res = await fetch("http://localhost:5000/users");
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();
        setUsers(normalizeUsers(data));
        } catch (err) {
        console.error("Failed to fetch users", err);
        setError("Failed to load users.");
        setUsers({ viewer: [], owner: [], admin: [] });
        } finally {
        setLoading(false);
        }
    };

    useEffect(() => { fetchUsers(); }, []);

    const handleAddUser = () => {
        const name = inputName.trim();
        if (!name) return;

        // üëá check for duplicate (case-insensitive across all roles)
        const exists = Object.values(users).some(list =>
        list.some(u => u.toLowerCase() === name.toLowerCase())
        );
        if (exists) {
        setError(`User "${name}" already exists.`);
        return;
        }

        const updated = {
        viewer: users.viewer,
        owner: users.owner,
        admin: users.admin,
        [inputRole]: [...(users[inputRole] ?? []), name],
        };

        setUsers(updated);
        setInputName("");
        setError(""); // clear old errors
        save(updated);
    };

    const deleteUser = (role, index) => {
        setUsers((prev) => {
        const next = { ...prev, [role]: prev[role].filter((_, i) => i !== index) };
        save(next);
        return next;
        });
    };

    const moveUser = (fromRole, fromIndex, toRole, toIndex) => {
        if (!fromRole || fromIndex == null || !toRole) return;
        setUsers((prev) => {
        const fromList = [...prev[fromRole]];
        const [moved] = fromList.splice(fromIndex, 1);
        const toList = fromRole === toRole ? fromList : [...prev[toRole]];
        const insertAt = typeof toIndex === "number"
            ? Math.max(0, Math.min(toIndex, toList.length))
            : toList.length;
        toList.splice(insertAt, 0, moved);
        const next = {
            ...prev,
            [fromRole]: fromRole === toRole ? toList : fromList,
            [toRole]: toList,
        };
        save(next);
        return next;
        });
    };

    const RoleSection = ({ role }) => {
    const list = users?.[role] ?? [];
    const title = role.charAt(0).toUpperCase() + role.slice(1) + "s";

    const onDragOverList = (e) => { e.preventDefault(); e.dataTransfer.dropEffect = "move"; };

    return (
        <section className="roleSection" onDragOver={onDragOverList}>
        <div className="roleHeader">
            <h2 className="roleTitle">{title}</h2>
        </div>

        <div className="tableCard">
            <div className="tableRow tableHead">
            <div></div>
            <div>Name</div>
            <div style={{ textAlign: "right" }}>Actions</div>
            </div>

            {list.length === 0 ? (
            <div className="emptyRow">No users yet.</div>
            ) : (
            list.map((name, idx) => {
                const onDragStart = (e) => {
                dragItem.current = { role, index: idx };
                e.dataTransfer.setData("text/plain", `${role}:${idx}`);
                e.dataTransfer.effectAllowed = "move";
                e.currentTarget.classList.add("dragging");
                };
                const onDragEnd = (e) => {
                e.currentTarget.classList.remove("dragging");
                setDragOver(null);
                };
                const onDragOver = (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = "move";
                setDragOver({ role, index: idx });
                };
                const onDropAbove = (e) => {
                e.preventDefault();
                e.stopPropagation();
                const payload = dragItem.current;
                if (!payload) return;
                moveUser(payload.role, payload.index, role, idx);
                dragItem.current = null;
                setDragOver(null);
                };

                const isOver = dragOver && dragOver.role === role && dragOver.index === idx;

                return (
                <div
                    key={`${role}-${idx}`}
                    className={`tableRow${isOver ? " isDragOver" : ""}`}
                    draggable
                    onDragStart={onDragStart}
                    onDragEnd={onDragEnd}
                    onDragOver={onDragOver}
                    onDrop={onDropAbove}
                    title="Drag to reorder or move between roles"
                >
                    <div className="dragHandle" aria-hidden />
                    <div>{name}</div>
                    <div style={{ textAlign: "right" }}>
                    <button
                        className="iconBtn"
                        aria-label={`Delete ${name}`}
                        onClick={() => deleteUser(role, idx)}
                        title="Delete"
                    >
                        <span className="icon-trash" aria-hidden />
                    </button>
                    </div>
                </div>
                );
            })
            )}

            {/* ‚úÖ Dedicated end-drop target */}
            <div
            className={`dropZone${dragOver && dragOver.role === role && dragOver.index === "end" ? " isDragOver" : ""}`}
            onDragOver={(e) => { e.preventDefault(); e.dataTransfer.dropEffect = "move"; setDragOver({ role, index: "end" }); }}
            onDrop={(e) => {
                e.preventDefault();
                e.stopPropagation();
                const payload = dragItem.current;
                if (!payload) return;
                // undefined index ‚Üí append to end
                moveUser(payload.role, payload.index, role, undefined);
                dragItem.current = null;
                setDragOver(null);
            }}
            title="Drop here to place at end"
            >
            Drop here to place at end
            </div>
        </div>
        </section>
    );
    };

  return (
    <div className="pageWrap">
      <header className="pageHeader">
        <h1>User Management</h1>
        <button className="btn btn--secondary" onClick={() => navigate("/")}>
          ‚Üê Back
        </button>
      </header>

      {error && <div className="alert">{error}</div>}

      <div className="inputBar">
        <label className="visuallyHidden" htmlFor="userName">New user name</label>
        <input
          id="userName"
          className="textInput"
          type="text"
          placeholder="Enter a name (e.g., Jane Doe)"
          value={inputName}
          onChange={(e) => setInputName(e.target.value)}
          onKeyDown={(e) => { if (e.key === "Enter") handleAddUser(); }}
        />

        <label className="visuallyHidden" htmlFor="userRole">Role</label>
        <select
          id="userRole"
          className="selectInput"
          value={inputRole}
          onChange={(e) => setInputRole(e.target.value)}
        >
          <option value="viewer">Viewer</option>
          <option value="owner">Owner</option>
          <option value="admin">Admin</option>
        </select>

        <button className="btn btn--primary" onClick={handleAddUser}>
          Add
        </button>
      </div>

      {loading ? (
        <div className="loading">Loading‚Ä¶</div>
      ) : (
        <div className="grid">
            <RoleSection role="viewer" />
            <RoleSection role="owner" />
            <RoleSection role="admin" />
        </div>
      )}
    </div>
  );
}

--------------------------------------------------------------------------------

======================= 17. src\components\ToDoList.css ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\ToDoList.css
Size: 4764 bytes
--------------------------------------------------------------------------------

.todo-container {
    padding: 20px;
    background: #fff;
}
.todo-table {
    width: 100%;
    border-collapse: collapse;
    font-family: Arial, sans-serif;
    font-size: 14px;
    background: #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    table-layout: fixed;
}

.todo-table th, 
.todo-table td {
    padding: 5px;
    border-bottom: 1px solid #eee;
    text-align: left;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ‚úÖ Adjust widths with new columns */
.todo-table th:nth-child(1), .todo-table td:nth-child(1) { width: 5%; }  
.todo-table th:nth-child(2), .todo-table td:nth-child(2) { width: 22%; } 
.todo-table th:nth-child(3), .todo-table td:nth-child(3) { width: 9%; } 
.todo-table th:nth-child(4), .todo-table td:nth-child(4) { width: 10%; } 
.todo-table th:nth-child(5), .todo-table td:nth-child(5) { width: 8%; } 
.todo-table th:nth-child(6), .todo-table td:nth-child(6) { width: 8%; } 
.todo-table th:nth-child(7), .todo-table td:nth-child(7) { width: 9%; } 
.todo-table th:nth-child(8), .todo-table td:nth-child(8) { width: 15%; }  
.todo-table th:nth-child(9), .todo-table td:nth-child(9) { width: 15%; }  

.urgent-row {
  background-color: #ffcccc !important;
}

.project {
  font-weight: bold;
  font-size: 16px;
  background: #f3f4f6;
  border-right: 2px solid #ddd;
  vertical-align: top;
  padding: 8px;
}

.project, .task {
  white-space: normal !important ;
  overflow: visible !important ;
  word-break: break-word !important ;
}

.project {
  position: relative;
}

.project .edit-icon,
.project .trash-icon {
  position: absolute;
  transform: translateY(-50%);
  opacity: 0;          /* Hidden by default */
  cursor: pointer;
  transition: opacity 0.3s ease;
  color: #a5a5a5;      /* Darker on hover */
  font-size: 18px;     /* Adjust size as needed */
}
.project .edit-icon{
  top: 13%;
  right: 5px;
}
.project .trash-icon {
  top: 40%;
  right: 7px;
}


.project:hover .edit-icon, .project:hover .trash-icon{
  opacity: 1;          /* Show icon on hover */
}

.status, .priority {
    display: inline-block;
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    color: #fff;
}

.priority {
    color: inherit;
}

.calendar-input {
  width: 85px;
  padding: 6px 8px;
  font-size: 13px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: #fff;
  cursor: pointer;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}
.calendar-input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 3px rgba(59,130,246,0.3);
}

/* Calendar Popup */
.react-datepicker {
  border-radius: 8px;
  border: 1px solid #ddd;
  font-family: Arial, sans-serif;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

.react-datepicker__header {
  background: #f7f7f7;
  border-bottom: 1px solid #ddd;
}

.react-datepicker__day--selected {
  background: #3b82f6 !important;
  color: white !important;
  border-radius: 50%;
}

.react-datepicker__day:hover {
  background: #e2e8f0;
  border-radius: 50%;
}

.dropdown {
    width: 80%;
    padding: 4px 6px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 13px;
    background: #fff;
    cursor: pointer;
}

/* Remove default arrow styling (optional, modern look) */
.dropdown:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 4px rgba(59, 130, 246, 0.4);
}

/* React-Select overrides */
.react-select-container {
  position: relative;
  z-index: 2;
}

.react-select__control {
  min-height: 32px !important;
  font-size: 13px;
  border-radius: 6px !important;
  border-color: #ccc !important;
  box-shadow: none !important;
}

.react-select__control--is-focused {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 4px rgba(59, 130, 246, 0.3) !important;
}

.react-select__single-value {
  font-weight: bold;
}

.react-select__option {
  font-weight: bold;
  color: rgba(99, 98, 98, 0.452);
  cursor: pointer;
}

.react-select__menu {
  z-index: 9999 !important;
}

.react-select__menu-portal {
  z-index: 9999 !important;
}

/* Style for expanding textarea */
.note-textarea {
    width: 95%;               
    min-height: 32px;        
    resize: vertical;  
    padding: 6px 8px;
    font-size: 13px;
    border: 1px solid #ddd;
    border-radius: 4px;    
    background: #fff;
    line-height: 1.4;
    overflow-y: auto;    
    box-sizing: border-box;
    transition: border 0.2s ease, box-shadow 0.2s ease;
}

/* ‚úÖ Matching focus effect */
.note-textarea:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 4px rgba(59, 130, 246, 0.3);
}

--------------------------------------------------------------------------------

======================= 18. src\components\ToDoList.jsx ========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\components\ToDoList.jsx
Size: 15694 bytes
--------------------------------------------------------------------------------

import React, { useState, useEffect, useMemo } from "react";
import { useNavigate } from "react-router-dom";
import DatePicker from "react-datepicker";
import Select from "react-select";
import { FaEdit, FaTrash } from "react-icons/fa";
import "react-datepicker/dist/react-datepicker.css";
import "./ToDoList.css";
import user from '../data/user.json'

export default function ToDoList() {
  const [tasks, setTasks] = useState([]); // canonical list from server
  const navigate = useNavigate();

  // --- role & identity ---
  const role = (localStorage.getItem("role") || "").trim().toLowerCase(); // "owner" | "viewer"
  const isViewer = role === "viewer";
  const me = (localStorage.getItem("name") || "").trim().toLowerCase();

  // --- config ---
  const priorityOptions = ["High", "Medium", "Low"];
  const assignedOptions = useMemo(() => {
    const list = [
        ...(Array.isArray(user?.owner) ? user.owner : []),
        ...(Array.isArray(user?.viewer) ? user.viewer : []),
    ];
    // fallback to names found in tasks if user.json is empty
    const fallback = Array.from(new Set(tasks.map(t => t.assigned).filter(Boolean)));
    return Array.from(new Set(list.filter(Boolean))).sort() || fallback;
    }, [tasks]);
  const statusOptions = ["IN PROGRESS", "PENDING", "READY FOR DEV", "REVIEW", "ISSUES FOUND", "COMPLETED"];

  const statusColors = {
    "IN PROGRESS": "#3b82f6",
    PENDING: "#10b981",
    "READY FOR DEV": "#a855f7",
    REVIEW: "#facc15",
    "ISSUES FOUND": "#ef4444",
    COMPLETED: "#178800ff",
  };

  const priorityColors = {
    High: "#ef4444",
    Medium: "#f59e0b",
    Low: "#10b981",
  };

  // --- helpers ---
  const parseDate = (value) => {
    if (!value || value === "-") return "";
    if (typeof value !== "string") return value instanceof Date ? value : null;
    const lower = value.toLowerCase();
    const today = new Date();
    if (lower === "today") return today;
    if (lower === "tomorrow") {
      const d = new Date();
      d.setDate(today.getDate() + 1);
      return d;
    }
    const parsed = Date.parse(value);
    return Number.isNaN(parsed) ? null : new Date(parsed);
  };

  const formatReadableDate = (date) => {
    if (!date) return "";
    return date.toLocaleDateString("en-US", { year: "numeric", month: "long", day: "numeric" });
  };

  const calculateTimeRemaining = (dueDate, status) => {
    if (status === "COMPLETED") return "-";
    const due = parseDate(dueDate);
    if (!due) return "-";
    const now = new Date();
    const diffMs = due.getTime() - now.getTime();
    if (diffMs <= 0) return "Overdue";
    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
    const diffHours = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
    return diffDays > 0 ? `${diffDays}d ${diffHours}h` : `${diffHours}h ${diffMinutes}m`;
  };

  // name kept for continuity; threshold is 1 hour
  const isLessThanOneDay = (dueDate, status) => {
    if (status === "COMPLETED") return false;
    const due = parseDate(dueDate);
    if (!due) return false;
    const now = new Date();
    return due.getTime() - now.getTime() < 60 * 60 * 1000; // 1 hour
  };

  const groupByProject = (list) =>
    list.reduce((acc, t) => {
      if (!acc[t.project]) acc[t.project] = [];
      acc[t.project].push(t);
      return acc;
    }, {});

  const saveTasksToServer = (updatedTasks, change) => {
    // viewers can only save notes
    if (isViewer && change?.field !== "note") return;
    fetch("http://localhost:5000/api/tasks", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(updatedTasks),
    }).catch((err) => console.error("Failed to save tasks:", err));
  };

  const handleChange = (taskId, field, value) => {
    // viewers can only edit notes
    if (isViewer && field !== "note") return;
    setTasks((prev) => {
      const idx = prev.findIndex((t) => t.id === taskId);
      if (idx === -1) return prev;
      const updated = [...prev];
      updated[idx] = { ...updated[idx], [field]: value };
      saveTasksToServer(updated, { taskId, field, value });
      return updated;
    });
  };

  // --- data fetch & normalization ---
  useEffect(() => {
    fetch("http://localhost:5000/api/tasks")
      .then((res) => res.json())
      .then((data) => {
        let flat = [];
        if (Array.isArray(data)) {
          flat = data;
        } else if (data && typeof data === "object") {
          for (const [owner, arr] of Object.entries(data)) {
            if (Array.isArray(arr)) flat.push(...arr.map((t) => ({ ...t, owner })));
          }
        } else {
          console.warn("Unexpected tasks payload shape:", data);
        }
        setTasks(flat);
      })
      .catch((err) => console.error("Failed to load tasks:", err));
  }, []);

  // --- filtering by role/name ---
  const visibleTasks = useMemo(() => {
    if (!tasks.length) return [];
    if (role === "admin") {
      return tasks
    }

    if (role === "owner") {
      // owners see tasks where owner === their name; if no owner field, show all
      return tasks.filter((t) =>
        t.owner ? (t.owner || "").trim().toLowerCase() === me : true
      );
    }

    // viewers see only tasks assigned to them
    if (me) {
      return tasks.filter((t) => (t.assigned || "").trim().toLowerCase() === me);
    }

    return []; // no name: show nothing (adjust if you prefer a fallback)
  }, [tasks, role, me]);

  const groupedTasks = useMemo(() => groupByProject(visibleTasks), [visibleTasks]);

  return (
    <div className="todo-container">
      {isViewer && (
        <div
          className="view-only-banner"
          style={{
            marginBottom: 12,
            padding: "8px 12px",
            borderRadius: 8,
            background: "#f3f4f6",
            border: "1px solid #e5e7eb",
            fontSize: 14,
          }}
        >
          Assigned Tasks Below
        </div>
      )}

      <table className="todo-table">
        <thead>
          <tr>
            <th>Project</th>
            <th>Task</th>
            <th>Priority</th>
            <th>Assigned To</th>
            <th>Date Started</th>
            <th>Due Date</th>
            <th>Time Remaining</th>
            <th>Status</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          {Object.keys(groupedTasks).length === 0 && (
            <tr>
              <td colSpan={9} style={{ textAlign: "center", padding: "16px" }}>
                No tasks to display.
              </td>
            </tr>
          )}

          {Object.keys(groupedTasks).map((project) => {
            const projectTasks = groupedTasks[project];
            return projectTasks.map((t, i) => {
              const rowKey = `${project}-${t.id || i}`;
              return (
                <tr
                  key={rowKey}
                  className={`task-row ${isLessThanOneDay(t.due, t.status) ? "urgent-row" : ""}`}
                >
                  {i === 0 && (
                    <td className="project" rowSpan={projectTasks.length}>
                        {project}
                        <FaEdit
                            className="edit-icon"
                            onClick={() => navigate(`/edit-project/${t.projectId}`)}
                            title="Edit Task"
                        />
                        {/* Show edit only for non-viewers */}
                        {!isViewer && (
                        <FaTrash
                         className="trash-icon"
                        />
                        )}

                        {/* Show owner label only for viewers */}
                        {isViewer && t.owner && (
                        <div style={{ marginTop: 6, fontSize: 12, opacity: 0.7 }}>
                            Owner: {t.owner}
                        </div>
                        )}
                    </td>
                    )}

                  <td className="task">{i + 1}. {t.task}</td>

                  {/* Priority */}
                  <td>
                    <Select
                      isDisabled={isViewer}
                      options={priorityOptions.map((p) => ({
                        value: p,
                        label: p,
                        color: priorityColors[p],
                      }))}
                      value={{
                        value: t.priority,
                        label: t.priority,
                        color: priorityColors[t.priority],
                      }}
                      classNamePrefix="react-select"
                      menuPortalTarget={document.body}
                      styles={{
                        menuPortal: (base) => ({ ...base, zIndex: 9999 }),
                        control: (base) => ({
                          ...base,
                          borderRadius: "6px",
                          border: "1px solid #ccc",
                          fontWeight: "bold",
                          opacity: isViewer ? 0.6 : 1,
                        }),
                        option: (base, state) => {
                          const baseColor = priorityColors[state.data.label];
                          const focusOpacity = state.isFocused ? "0.5" : "1.0";
                          return {
                            ...base,
                            backgroundColor: `${baseColor}${Math.floor(parseFloat(focusOpacity) * 255)
                              .toString(16)
                              .padStart(2, "0")}`,
                            color: "#333",
                            fontWeight: "bold",
                            transition: "background-color 0.2s ease",
                          };
                        },
                        singleValue: (base, state) => ({
                          ...base,
                          color: state.data.color,
                          fontWeight: "bold",
                        }),
                      }}
                      onChange={(option) => handleChange(t.id, "priority", option.value)}
                    />
                  </td>

                  {/* Assigned */}
                  <td>
                    <Select
                      isDisabled={isViewer}
                      options={assignedOptions.map((a) => ({ value: a, label: a }))}
                      value={{ value: t.assigned, label: t.assigned }}
                      classNamePrefix="react-select"
                      menuPortalTarget={document.body}
                      styles={{
                        menuPortal: (base) => ({ ...base, zIndex: 9999 }),
                        control: (base) => ({
                          ...base,
                          borderRadius: "6px",
                          backgroundColor: "#fff",
                          border: "1px solid #ccc",
                          opacity: isViewer ? 0.6 : 1,
                        }),
                        option: (base, state) => ({
                          ...base,
                          backgroundColor: state.isFocused ? "#eee" : "#fff",
                          color: "#333",
                          fontWeight: "bold",
                        }),
                        singleValue: (base) => ({
                          ...base,
                          fontWeight: "bold",
                        }),
                      }}
                      onChange={(option) => handleChange(t.id, "assigned", option.value)}
                    />
                  </td>

                  {/* Start Date */}
                  <td>
                    <DatePicker
                      className="calendar-input"
                      selected={parseDate(t.started)}
                      onChange={(date) => handleChange(t.id, "started", formatReadableDate(date))}
                      dateFormat="MMMM d"
                      placeholderText="Select Date"
                      disabled={isViewer}
                    />
                  </td>

                  {/* Due Date */}
                  <td>
                    <DatePicker
                      className="calendar-input"
                      selected={parseDate(t.due)}
                      onChange={(date) => handleChange(t.id, "due", formatReadableDate(date))}
                      dateFormat="MMMM d"
                      placeholderText="Select Date"
                      disabled={isViewer}
                    />
                  </td>

                  {/* Time Remaining */}
                  <td>{calculateTimeRemaining(t.due, t.status)}</td>

                  {/* Status */}
                  <td style={{ minWidth: "160px" }}>
                    <Select
                      options={statusOptions.map((s) => ({
                        value: s,
                        label: s,
                        color: statusColors[s],
                      }))}
                      value={{
                        value: t.status,
                        label: t.status,
                        color: statusColors[t.status],
                      }}
                      classNamePrefix="react-select"
                      menuPortalTarget={document.body}
                      styles={{
                        menuPortal: (base) => ({ ...base, zIndex: 9999 }),
                        control: (base) => ({
                          ...base,
                          backgroundColor: statusColors[t.status],
                          color: "white",
                          borderRadius: "6px",
                          padding: "0px 4px",
                          fontWeight: "bold",
                          opacity: isViewer ? 0.6 : 1,
                        }),
                        option: (base, state) => ({
                          ...base,
                          backgroundColor: state.isFocused ? "#eee" : statusColors[state.data.label],
                          color: "#333",
                          fontWeight: "bold",
                          cursor: "pointer",
                        }),
                        singleValue: (base) => ({
                          ...base,
                          color: "",
                          fontWeight: "bold",
                        }),
                      }}
                      onChange={(option) => handleChange(t.id, "status", option.value)}
                    />
                  </td>

                  {/* Notes (editable even for viewer) */}
                  <td>
                    <textarea
                      className="note-textarea"
                      value={t.note || ""}
                      onChange={(e) => {
                        // viewers can always edit notes
                        handleChange(t.id, "note", e.target.value);
                        e.target.style.height = "auto";
                        e.target.style.height = e.target.scrollHeight + "px";
                      }}
                      rows={1}
                    />
                  </td>
                </tr>
              );
            });
          })}
        </tbody>
      </table>
    </div>
  );
}

--------------------------------------------------------------------------------

============================== 19. src\index.css ===============================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\index.css
Size: 366 bytes
--------------------------------------------------------------------------------

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

--------------------------------------------------------------------------------

=============================== 20. src\index.js ===============================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\index.js
Size: 484 bytes
--------------------------------------------------------------------------------

import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

import { MsalProvider } from "@azure/msal-react";
import { msalInstance } from "./msalConfig";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <MsalProvider instance={msalInstance}>
      <App />
    </MsalProvider>
  </React.StrictMode>
);

reportWebVitals();

--------------------------------------------------------------------------------

============================ 21. src\msalConfig.js =============================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\msalConfig.js
Size: 1006 bytes
--------------------------------------------------------------------------------

import { PublicClientApplication, LogLevel } from "@azure/msal-browser";

export const msalConfig = {
  auth: {
    clientId: "f3e87fc1-8846-4a8e-a479-6ebc6f9818a8",
    authority: "https://login.microsoftonline.com/68a830f1-d39c-4627-95f7-ab909b46e596",
    redirectUri: "http://localhost:3000",
    postLogoutRedirectUri: "http://localhost:3000",
    navigateToLoginRequestUrl: false,
  },
  cache: {
    cacheLocation: "sessionStorage",
    storeAuthStateInCookie: false,
  },
  system: {
    loggerOptions: {
      loggerCallback: (level, message) => {
        if (level === LogLevel.Error) console.error(message);
      },
      logLevel: LogLevel.Error,
    },
  },
};

export const loginRequest = {
  scopes: ["User.Read"],
};

// Initialize MSAL instance
export const msalInstance = new PublicClientApplication(msalConfig);

msalInstance.addEventCallback((e) => {
  if (e.error) {
    console.error("[MSAL EVENT]", e.eventType, e.error, e.errorMessage);
  }
});

--------------------------------------------------------------------------------

========================== 22. src\reportWebVitals.js ==========================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\reportWebVitals.js
Size: 362 bytes
--------------------------------------------------------------------------------

const reportWebVitals = onPerfEntry => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

export default reportWebVitals;

--------------------------------------------------------------------------------

============================ 23. src\setupTests.js =============================

Path: C:\Users\MHashemi\OneDrive - FGF Brands Inc\Coding\Projects\website\to-do-calendar\src\setupTests.js
Size: 241 bytes
--------------------------------------------------------------------------------

// jest-dom adds custom jest matchers for asserting on DOM nodes.
// allows you to do things like:
// expect(element).toHaveTextContent(/react/i)
// learn more: https://github.com/testing-library/jest-dom
import '@testing-library/jest-dom';

--------------------------------------------------------------------------------



